{"version":3,"sources":["index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","todos","users","toDoList","document","getElementById","userSelect","form","querySelector","printToDo","_a","id","userId","title","completed","li","createElement","className","dataset","String","innerHTML","concat","user","find","u","name","getUserName","status","type","checked","addEventListener","handleTodoChange","close","handleClose","prepend","append","alertError","error","alert","message","parent","parentElement","todoId","error_4","fetch","method","JSON","stringify","headers","ok","Error","toggleTodoComplete","error_5","_b","filter","todo","todo_1","classList","remove","add","removeEventListener","removeTodo","deleteTodo","getAllToDos","error_1","json","getAllUsers","error_2","all","values","forEach","option","innerText","createUserOption","event","preventDefault","Number","todoTitle","trim","error_3","createTodo"],"mappings":"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","file":"public.18c42cba.js","sourceRoot":"../public","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n(function () {\n    //Globals\n    var todos = [];\n    var users = [];\n    var toDoList = document.getElementById('todo-list');\n    var userSelect = document.getElementById('user-todo');\n    var form = document.querySelector('form');\n    //Atach events\n    document.addEventListener('DOMContentLoaded', initApp);\n    form === null || form === void 0 ? void 0 : form.addEventListener('submit', handleSubmit);\n    //Basic logic\n    function getUserName(userId) {\n        var user = users.find(function (u) { return u.id === userId; });\n        return (user === null || user === void 0 ? void 0 : user.name) || '';\n    }\n    function printToDo(_a) {\n        var id = _a.id, userId = _a.userId, title = _a.title, completed = _a.completed;\n        var li = document.createElement('li');\n        li.className = 'todo-item slide-in';\n        li.dataset.id = String(id);\n        li.innerHTML = \"<span>\".concat(title, \" <i>by</i> <b>\").concat(getUserName(userId), \"</b></span>\");\n        var status = document.createElement('input');\n        status.type = 'checkbox';\n        status.checked = completed;\n        status.addEventListener('change', handleTodoChange);\n        var close = document.createElement('span');\n        close.innerHTML = '&times;';\n        close.className = 'close';\n        close.addEventListener('click', handleClose);\n        toDoList === null || toDoList === void 0 ? void 0 : toDoList.prepend(li);\n        li.prepend(status);\n        li.append(close);\n    }\n    function createUserOption(user) {\n        if (userSelect) {\n            var option = document.createElement('option');\n            option.value = String(user.id);\n            option.innerText = user.name;\n            userSelect.append(option);\n        }\n    }\n    function removeTodo(todoId) {\n        var _a, _b;\n        if (toDoList) {\n            todos = todos.filter(function (todo) { return todo.id !== todoId; });\n            var todo_1 = toDoList.querySelector(\"[data-id = \\\"\".concat(todoId, \"\\\"]\"));\n            if (todo_1) {\n                todo_1.classList.remove('slide-in');\n                todo_1.classList.add('slide-out');\n                todo_1.addEventListener('animationend', function () {\n                    todo_1.remove(); // После окончания анимации удаляем элемент\n                });\n                (_a = todo_1.querySelector('input')) === null || _a === void 0 ? void 0 : _a.removeEventListener('change', handleTodoChange);\n                (_b = todo_1.querySelector('.close')) === null || _b === void 0 ? void 0 : _b.removeEventListener('click', handleClose);\n            }\n        }\n    }\n    function alertError(error) {\n        alert(error.message);\n    }\n    //Event logic\n    function initApp() {\n        Promise.all([getAllToDos(), getAllUsers()]).then(function (values) {\n            todos = values[0], users = values[1];\n            //Отправить в разметку\n            todos.forEach(function (todo) { return printToDo(todo); });\n            users.forEach(function (user) { return createUserOption(user); });\n        });\n    }\n    function handleSubmit(event) {\n        event.preventDefault();\n        if (form) {\n            var userId = Number(form.user.value);\n            var todoTitle = form.todo.value.trim(); // Удаляем пробелы в начале и конце\n            if (!userId || !todoTitle) {\n                alert('Пожалуйста выберите пользователя и введите название задачи');\n                return;\n            }\n            createTodo({\n                userId: Number(form.user.value),\n                title: form.todo.value,\n                completed: false,\n            });\n            form.user.value = '';\n            form.todo.value = '';\n        }\n    }\n    function handleTodoChange() {\n        var parent = this.parentElement;\n        if (parent) {\n            var todoId = parent.dataset.id;\n            var completed = this.checked;\n            todoId && toggleTodoComplete(todoId, completed);\n        }\n    }\n    function handleClose() {\n        var parent = this.parentElement;\n        if (parent) {\n            var todoId = parent.dataset.id;\n            todoId && deleteTodo(todoId);\n        }\n    }\n    //Async logic\n    function getAllToDos() {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, data, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, fetch('https://jsonplaceholder.typicode.com/todos?_limit=20')];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        error_1 = _a.sent();\n                        if (error_1 instanceof Error)\n                            alertError(error_1);\n                        return [2 /*return*/, []];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function getAllUsers() {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, data, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, fetch('https://jsonplaceholder.typicode.com/users')];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        error_2 = _a.sent();\n                        if (error_2 instanceof Error)\n                            alertError(error_2);\n                        return [2 /*return*/, []];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function createTodo(todo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, newTOdo, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, fetch('https://jsonplaceholder.typicode.com/todos', {\n                                method: 'POST',\n                                body: JSON.stringify(todo),\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                },\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        newTOdo = _a.sent();\n                        printToDo(newTOdo);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_3 = _a.sent();\n                        if (error_3 instanceof Error) {\n                            alertError(error_3);\n                        }\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function toggleTodoComplete(todoId, completed) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, fetch(\"https://jsonplaceholder.typicode.com/todos/\".concat(todoId), {\n                                method: 'PATCH',\n                                body: JSON.stringify({ completed: completed }),\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                },\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) {\n                            throw new Error('Failed to connect with server! Please try later!');\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_4 = _a.sent();\n                        if (error_4 instanceof Error) {\n                            alertError(error_4);\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function deleteTodo(todoId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, error_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, fetch(\"https://jsonplaceholder.typicode.com/todos/\".concat(todoId), {\n                                method: 'DELETE',\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                },\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.ok) {\n                            removeTodo(todoId);\n                        }\n                        else {\n                            throw new Error('Failed to connect with server! Please try later!');\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_5 = _a.sent();\n                        if (error_5 instanceof Error) {\n                            alertError(error_5);\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    }\n})();\n"]}